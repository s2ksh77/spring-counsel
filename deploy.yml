## Notice the v2 increment at the end
docker build -t gcr.io/spring-counsel/spring-counsel:v2 .
## Optional, if you want to test it locally before deploying
docker run --rm -p 3000:3000 gcr.io/spring-counsel/spring-counsel:v2
## Push the new version to your private registry at GCP
gcloud docker -- push gcr.io/spring-counsel/spring-counsel:v2
## Tell Kubernetes to use the new version, this will start the rolling update of your containers (one line)
kubectl set image deployment/spring-counsel/  spring-counsel/=gcr.io/spring-counsel/spring-counsel:v2

## Check your browser to see the updates
## http://public_ip:3000/
## Optional, revert back to v1 if any issue, by running set again with :v1
kubectl set image deployment/spring-counsel/ spring-counsel/=gcr.io/spring-counsel/spring-counsel/:v1